<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:cyk="http://primefaces.jsf.web.utility.cyk.org">
	
	<ui:decorate template="/template.xhtml">
		<ui:define name="valueIsNotNull">
			<p:outputPanel id="pickListOutputPanel">
				<p:pickList
					id="pickList"
					value="#{value.model}" 
				    var="record" 
				    itemValue="#{record}" 
					itemLabel="#{value.getLabel(record)}"
					showCheckbox="true"
					converter="#{objectConverter}"
				>
				
				</p:pickList>
			</p:outputPanel>
				
			
			<p:remoteCommand id="initialisePickList" autoRun="true" action="#{value.initialise}" update="pickListOutputPanel"  />
			    
	    	<cyk:blockUI value="#{value.blockUI}" />
		</ui:define>
	</ui:decorate>	
	
	
		
</ui:composition>